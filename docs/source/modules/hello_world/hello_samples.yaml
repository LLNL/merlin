description:
    name: hello_samples
    description: a very simple merlin workflow

env:
    variables:
        NUM_SAMPLES: 3

global.parameters:
    GREET:
        values : ["hello","olÃ¡"]
        label  : GREET.%%

study:
    - name: step_1
      description: write a file that says hello
      run:
          cmd: |
              touch "new_file.txt"
              echo "$(GREET), $(WORLD)!" > "new_file.txt"

    - name: step_2
      description: print a success message
      run:
          cmd: 'print("Operation: HELLO complete.")'
          depends: [step_1_*]
          shell: /usr/bin/env python3

merlin:
    samples:
        generate:
            cmd: pip install names ; for i in {1..$(NUM_SAMPLES)}; do echo $(names) >> $(MERLIN_INFO)/samples.csv; done
        file: $(MERLIN_INFO)/samples.csv
        column_labels: [WORLD]
